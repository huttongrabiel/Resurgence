<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Resurgence (PY2022): Style Guide</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Resurgence (PY2022)
   </div>
   <div id="projectbrief">Codebase for the Husky Robotics 2021-2022 rover Resurgence</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Style Guide </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This style guide is intended to maintain a consistent, readable style, and ensure the use of best practices in our code. It is not set in stone, and any part of it can be changed if enough members wish to do so <em>and are willing to help update the codebase to match the proposed style</em> - there isn't much point in a style guide if the code doesn't follow it!</p>
<p>You can automatically apply the formatting rules using the <code>clang-format</code> tool; see Automatic Formatting with `clang-format` for more information.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Style Rules</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Formatting</h2>
<ul>
<li>Use tabs to indent, and use additional spaces to align multi-line code (i.e. when lines are too long and have to be wrapped).</li>
<li>Lines should be kept under 95 characters long, including indentation.</li>
<li>Opening curly braces should be placed on the same line as the block header. For example: <div class="fragment"><div class="line"><span class="keywordtype">int</span> myFunction() {</div>
<div class="line">    <span class="keywordflow">if</span> (<span class="keyword">true</span>) {</div>
<div class="line">        <span class="keywordflow">while</span> (<span class="keyword">false</span>) {</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Function names should be in <code>camelCase</code>, where the first letter of the first word is lowercase and the first letter of each subsequent word is uppercase.</li>
<li>Struct, Enum, Class, Enum Class, Union, etc. names should be in <code>PascalCase</code>, where the first letter of every word is uppercase.</li>
<li>Variable names should be in <code>snake_case</code>, where every letter is lowercase and there is an underscore between words.</li>
<li>Indent <code>case</code> labels inside of a <code>switch</code> statement.</li>
<li><p class="startli">When defining variables or parameters that have pointer or reference types, the <code>*</code> or <code>&amp;</code> symbols should be aligned to the left, next to the type name, as they describe the <em>type</em> of the variable rather than the variable itself.</p>
<p class="startli">For example: </p><div class="fragment"><div class="line"><span class="keywordtype">int</span>* value; <span class="comment">// good</span></div>
</div><!-- fragment --><p> as opposed to </p><div class="fragment"><div class="line"><span class="keywordtype">int</span> *value; <span class="comment">// bad</span></div>
</div><!-- fragment --></li>
<li><p class="startli">Include directives should be ordered as follows:</p><ol type="1">
<li>Headers that are part of our codebase.</li>
<li>C/C++ standard library headers.</li>
<li>Other system headers, such as Linux kernel headers. An extra line should be placed between each group.</li>
</ol>
<p class="startli">For example:</p><ul>
<li><p class="startli">Good: ```c #include "Globals.h"</p>
<p class="startli">#include &lt;cstdint&gt;</p>
<p class="startli">#include &lt;signal.h&gt; ```</p>
</li>
<li><p class="startli">Bad: ```c #include &lt;iostream&gt; #include &lt;signal.h&gt;</p>
<p class="startli">#include "Globals.h" ```</p>
</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md3"></a>
Best Practices</h2>
<ul>
<li>Constants should be defined with the <code>constexpr</code> keyword wherever possible (for primitive types and some standard library classes). This allows the compiler to perform optimizations on them.</li>
<li>Wherever possible, avoid <code>#define</code> macros for constants in favor of the <code>constexpr</code> keyword. For more complex macros (e.g. functions), please consider <code>constexpr</code> functions instead - they are also evaluated at compile time but are more type-safe. See <a href="https://docs.microsoft.com/en-us/cpp/cpp/constexpr-cpp?view=msvc-160#constexpr_functions">this page</a> for more information.</li>
<li>Wherever possible, avoid the use of raw pointers in favor of smart pointers (i.e <code>shared_ptr</code>) or references. If you need to have an output parameter for a function, a reference will work more often than not.</li>
<li>The line <code>#pragma once</code> should <em>always</em> be at the beginning of a header file - this prevents it from being included (redefining all the symbols inside) more than once.</li>
<li>Wherever possible for C standard library headers (e.g. <code>&lt;stdint.h&gt;</code>, <code>&lt;stdio.h&gt;</code>), prefer using C++-style compatibility headers (e.g. <code>&lt;cstdint&gt;</code>, <code>&lt;cstdio&gt;</code>). See <a href="https://en.cppreference.com/w/cpp/header#C_compatibility_headers">C Compatibility Headers</a> on cppreference.com for more information.</li>
<li><p class="startli">In C++ code, whenever dynamic memory allocation is required, the <code>new</code> and <code>delete</code>/<code>delete[]</code> keywords should be used as opposed to <code>malloc()</code> and <code>free()</code>; the former are more type-safe, easier to use with more complex types, and have various other advantages - see <a href="https://stackoverflow.com/a/240308">this post on StackOverflow</a> for a pretty good description of the differences.</p>
<p class="startli">There are a few exceptions:</p><ul>
<li>In C++ files, if you are using C standard library functions like <code>strdup()</code> that return pointers to memory allocated with <code>malloc()</code>, you <em>must</em> use <code>free()</code> with these.</li>
<li>In C code, <code>new</code> and <code>delete</code>/<code>delete[]</code> are not keywords, so you must use <code>malloc()</code> and <code>free()</code>. The rule only applies to C++ code.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Automatic formatting with &lt;tt&gt;clang-format&lt;/tt&gt;</h1>
<p>The formatting rules can be applied automatically using LLVM's <a href="https://clang.llvm.org/docs/ClangFormat.html"><code>clang-format</code> tool</a>. On Ubuntu, it can be installed with <code>sudo apt install clang-format</code>; on Mac OS, it can be installed from Homebrew with <code>brew install clang-format</code>.</p>
<p>Please note that <code>clang-format</code> can only automatically apply formatting changes, and cannot implement the "best practices" rules above.</p>
<p>To format a file with <code>clang-format</code>, run </p><div class="fragment"><div class="line">clang-format -i &lt;file&gt; ...</div>
</div><!-- fragment --><p> with as many file names as you want. For example:</p>
<div class="fragment"><div class="line">clang-format -i Autonomous.cpp</div>
<div class="line">clang-format -i Rover.cpp Utils.cpp Utils.h</div>
</div><!-- fragment --><p> You can even run something like </p><div class="fragment"><div class="line">clang-format -i *.cpp *.h</div>
</div><!-- fragment --><p> to format all C++ source files in a directory.</p>
<p>There are also plugins for several editors that integrate support for <code>clang-format</code>:</p><ul>
<li><a href="https://clang.llvm.org/docs/ClangFormat.html#emacs-integration">Emacs integration</a></li>
<li><a href="https://clang.llvm.org/docs/ClangFormat.html#vim-integration">Vim integration</a></li>
<li><a href="https://marketplace.visualstudio.com/items?itemName=xaver.clang-format">Visual Studio Code integration</a></li>
</ul>
<p>The style rules for <code>clang-format</code> can be found in <code>.clang-format</code> file in the top-level directory of the repository. When proposing changes to the style guide, please include the corresponding change to the <code>.clang-format</code> file as well (if possible). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
